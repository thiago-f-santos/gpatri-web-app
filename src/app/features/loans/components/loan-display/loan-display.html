<div class="loan-request">
    <div class="card-header">
        <h3 class="card-title"><strong>Solicitação</strong> #{{ loanRequest.id.substring(0, 8) }}</h3>
        <div class="card-actions">
            <span class="status-tag" [ngClass]="'tag-' + loanRequest.situacao.toLowerCase()">
                {{ statusText[loanRequest.situacao] }}
            </span>
            @if (showDeleteButton) {
                <button class="delete-button" (click)="onDelete()">
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M3 6H5M5 6H21M5 6V20C5 20.5304 5.21071 21.0391 5.58579 21.4142C5.96086 21.7893 6.46957 22 7 22H17C17.5304 22 18.0391 21.7893 18.4142 21.4142C18.7893 21.0391 19 20.5304 19 20V6M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6" stroke="#FAFBFF" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </button>
            }
        </div>
    </div>

  <div class="request-items-list">
    @for (item of loanRequest.itensEmprestimo; track item.itemPatrimonio.id) {
      <app-item-display
        [mainText]="item.itemPatrimonio.nomePatrimonio + ' (Qtd: ' + item.quantidade + ')'"
        [secondaryText]="item.itemPatrimonio.condicaoProduto">
      </app-item-display>
    }
  </div>
</div>